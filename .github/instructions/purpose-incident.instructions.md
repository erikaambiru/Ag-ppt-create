# Purpose: Incident Report Instructions

障害報告・ポストモーテム向けスライド作成ガイド。

---

## 💡 3 つの原則（これだけ覚える）

1. **事実を数字で** - 「多くの顧客」→「5,127 件」
2. **仕組みで防ぐ** - 「気をつける」→「自動テスト追加」
3. **責めない、学ぶ** - 「誰が悪い」→「何が足りなかった」

---

## 🎯 迷ったらこのチャート

```
Q1. 今何を作る？
├─ 第一報（15分以内）     → 速報5枚: タイトル/現状/影響/対応中/次いつ
├─ 復旧後の正式報告       → 詳細8枚: +タイムライン/原因/再発防止/教訓
└─ 組織の学習資産         → PM10-15枚: +5Whys詳細/振り返り/提言

Q2. 何枚必要？
├─ 全停止/データ損失(Sev1) → 10-15枚、経営層報告
├─ 主要機能停止(Sev2)     → 8-12枚、部門長報告
├─ 一部低下(Sev3)         → 6-10枚、チーム報告
└─ 軽微(Sev4)             → 3-5枚、チーム内共有

Q3. 情報が足りない？
├─ URLあり → fetch_webpageで取得
├─ テキストあり → 抽出して[要確認]マーク
└─ テーマのみ → ヒアリング必須（日時/影響/原因/対応/対策）
```

---

## 📊 スライドの流れ

**経営層向け（最初の 3 枚で完結させる）**

```
1. タイトル 「【Sev2】決済障害 10/15 09:00-11:30（復旧済）」
2. サマリー  何が→どれだけ痛い→原因→今どう
3. 次のアクション 再発防止の進捗、次の報告タイミング
```

**技術者向け（4 枚目以降で深掘り）**

```
4. タイムライン  分単位で: 検知→調査→対応→復旧
5. 影響範囲     サービス/顧客/ビジネスを数字で
6. 原因分析     5Whys→「仕組みの問題」まで掘る
7. 対応内容     即時/暫定/顧客対応
8. 再発防止策   短期/中期/長期 + 担当/期限/チケット
9. 教訓        良かった点/改善点/組織への提言
```

---

## ⚠️ よくある失敗と対処

| 失敗                   | なぜダメか       | こうする                           |
| ---------------------- | ---------------- | ---------------------------------- |
| 「午前中に発生」       | 分析できない     | 「09:15 に検知」                   |
| 「多くの顧客に影響」   | 深刻度不明       | 「5,127 件の決済失敗」             |
| 「確認を徹底する」     | 仕組みで防げない | 「CI/CD に自動テスト追加」         |
| 「レビューが甘かった」 | 人を責めてる     | 「チェックリストに項目がなかった」 |
| 「二度と起こさない」   | 非現実的         | 「発生確率を 1/10 に下げる」       |
| 「調査中」で終わる     | 報告価値ゼロ     | 「[仮説]DB のコネクション枯渇」    |
| 担当者名で非難         | 心理的安全性 ↓   | チーム名/役割で書く                |

---

## ✅ 提出前チェック

- [ ] **サマリーだけで全体像がわかる**（経営層テスト）
- [ ] **タイムラインが分単位**
- [ ] **影響に数字がある**
- [ ] **5Whys が「仕組み」に到達**
- [ ] **再発防止に担当/期限/チケット**
- [ ] **責任追及トーンがない**
- [ ] **不確定情報に`[要確認]`**

---

## 📋 metadata

```json
{
  "metadata": {
    "purpose": "incident",
    "report_type": "flash|detailed|postmortem",
    "severity": "sev1|sev2|sev3|sev4",
    "status": "ongoing|resolved",
    "occurred_at": "ISO8601",
    "resolved_at": "ISO8601",
    "warnings": []
  }
}
```
